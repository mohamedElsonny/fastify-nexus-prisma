# Migration `20200502141717`

This migration has been generated by Mohamed Gamal at 5/2/2020, 2:17:17 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "posts-svc"."Comment" (
"content" text  NOT NULL ,"id" text  NOT NULL ,"postId" text   ,
    PRIMARY KEY ("id"))

ALTER TABLE "posts-svc"."Comment" ADD FOREIGN KEY ("postId")REFERENCES "posts-svc"."Post"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200501160139-first-migration..20200502141717
--- datamodel.dml
+++ datamodel.dml
@@ -1,14 +1,22 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
 }
 model Post {
-  id    String @default(cuid()) @id
-  title String
-  body  String
+  id       String    @default(cuid()) @id
+  title    String
+  body     String
+  comments Comment[]
+}
+
+model Comment {
+  id      String  @default(cuid()) @id
+  content String
+  Post    Post?   @relation(fields: [postId], references: [id])
+  postId  String?
 }
```


